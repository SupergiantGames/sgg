{# ------------------------------------------------------- #}

{# YOUR HOMEPAGE #}

{# Webhook uses the SWIG.js (like Djagno/Twig) templating system. Their documentation is here: #}
{# http://paularmstrong.github.io/swig/docs/tags/ #}

{# Learn about calling data into Webhook pages here: #}
{# http://www.webhook.com/docs/template-rules-and-filters/ #}

{# ------------------------------------------------------- #}

{# Confused what extends and blocks do? Watch a primer: #}
{# http://www.webhook.com/docs/template-inheritance-blocks/ #}
{% extends "templates/partials/base.html" %}

{# This sets our page <title>. It will append "- Homepage" to the site title defined in base. #}
{% block title %}{% parent %} - Homepage{% endblock %}

{% block content %}

  <h1>{{ cms.studio.tagline_title }}</h1>

<ul class="home-games">
  {% for game in cms.games %}
  <li class="{{ game.name }}" style="background-image:url({{ game.home_art.url }});">
    <div class="container">
      <img src="{{ game.box_art|imageSize(300) }}">
      <h2>{{ game.name }}</h2>
      {{ game.about|safe }}
    </div>
  </li>
  {% endfor %}
</ul>

<div class="home-store">
  <div class="container">
    <h2>Grab some gear</h2>
    <p><a href="http://store.supergiantgames.com">International shipping available. Check out our store.</a></p>
    <hr>
    <div class="home-store-items">
      {% for product in cms.store|sort('publish_date', true) %}
        <div>
          <a href="{{ product.shopify.url }}">
            <img src="{{ product.shopify.thumbnail_url }}">
            {{ product.name  }}
          </a>
        </div>
      {% endfor %}
    </div>
  </div>
</div>

{% endblock %}
